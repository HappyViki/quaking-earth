{"version":3,"sources":["Components/NavBar.js","actions.js","Components/Display.js","Components/Settings.js","defaultState.js","reducers.js","App.js","serviceWorker.js","index.js"],"names":["a11yProps","index","id","connect","state","data","length","currentTab","currentIndex","tabs","map","d","settings","name","dispatch","props","onAddTab","payload","type","features","addView","onDisplayTab","currentView","onRemoveTab","removeView","AppBar","position","Tabs","value","aria-label","tab","key","Tab","label","onClick","style","background","Display","visualize","hasChildren","d3","select","remove","dataSet","slice","console","log","tooltip","append","attr","rainbow","domain","svg","selectAll","enter","height","i","n","radius","Math","round","mag","on","pageX","pageY","html","Date","time","toUTCString","title","this","className","React","Component","useStyles","makeStyles","theme","root","margin","spacing","padding","field","note","onUpdateSettings","updateViewSettings","onUpdateData","location","startTime","endTime","magMin","magMax","fetch","then","json","quakes","filter","quake","q","properties","isLocation","place","includes","isAfterTime","parse","isBeforeTime","isGreaterMag","isLesserMag","coordinates","reverse","updateViewFeatures","fetchData","onRemoveData","handleChange","e","newSettings","target","classes","settingKeys","Object","keys","settingAttributes","Paper","onSubmit","preventDefault","values","reduce","result","setting","TextField","InputLabelProps","shrink","Boolean","onChange","Button","variant","startIcon","defaultState","fetching","rootReducer","combineReducers","action","newState","splice","store","createStore","savedState","localStorage","getItem","JSON","getLocalState","applyMiddleware","thunk","saveStateLocally","stringify","getState","setItem","dropStateLocally","removeItem","App","Grid","container","item","xs","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"8UAWA,SAASA,EAAUC,GACjB,MAAO,CACLC,GAAG,cAAD,OAAgBD,GAClB,gBAAgB,mBAAhB,OAAoCA,IAIxC,IAwDeE,eAxBS,SAAAC,GACtB,OAAKA,EAAMC,KAAKC,OACV,CACJC,WAAYH,EAAMI,aAClBC,KAAML,EAAMC,KAAKK,KACf,SAAAC,GAAC,OAAIA,EAAEC,SAASC,SAJW,MASN,SAAEC,EAAUC,GAAZ,MAAwB,CACjDC,SAAU,kBAAMF,EC1BX,WAAgC,IAAfG,EAAc,uDAAJ,GACjC,MAAO,CACNC,KArCsB,WAsCtBD,QAAS,CACLJ,KAAMI,EAAQJ,KAAOI,EAAQJ,KAAO,UACpCD,SAAUK,EAAQL,SAAWK,EAAQL,SAAW,CAC/C,KAAQ,GACP,SAAY,GACZ,UAAa,GACb,QAAW,GACX,OAAU,GACV,OAAU,IAEZO,SAAUF,EAAQE,SAAWF,EAAQE,SAAW,KDclDC,KAEFC,aAAc,SAAApB,GAAK,OAAIa,ECXlB,SAAqBb,GAC3B,MAAO,CACNiB,KArD0B,eAsD1BjB,MAAOA,GDSLqB,CAAYrB,KAEdsB,YAAa,SAACtB,EAAOW,GACnB,OAAOE,ECRJ,SAAoBb,GAC1B,MAAO,CACNiB,KA3DyB,cA4DzBjB,MAAOA,EACPgB,QAAShB,EAAQA,EAAQ,EAAI,GDKzBuB,CAAWvB,QAKFE,EAxDA,SAAC,GAA6D,IAA5DI,EAA2D,EAA3DA,WAAYE,EAA+C,EAA/CA,KAAMY,EAAyC,EAAzCA,aAAcL,EAA2B,EAA3BA,SAAUO,EAAiB,EAAjBA,YAC1D,OACC,kBAACE,EAAA,EAAD,CAAQC,SAAS,UACb,kBAACC,EAAA,EAAD,CAAMC,MAAOrB,EAAYsB,aAAW,uBAEhCpB,GACAA,EAAKC,KAAI,SAACoB,EAAKC,GAAN,OACT,kBAACC,EAAA,EAAD,eACED,IAAKA,EACLE,MAAOH,GAAO,YACdI,QAAS,kBAAIb,EAAaU,KACtB/B,EAAU8B,QAGlB,kBAACE,EAAA,EAAD,eACEG,MAAO,CAACC,WAAY,SACpBH,MAAM,KAAQjC,EAAU,WAF1B,CAGEkC,QAASlB,KAGTP,EAAKH,OAAO,GACZ,kBAAC0B,EAAA,EAAD,eACEG,MAAO,CAACC,WAAY,OACpBH,MAAM,KAAQjC,EAAU,cAF1B,CAGEkC,QAAS,kBAAIX,EAAYhB,Y,wCErC/B8B,G,mNAUJC,UAAY,WAEZ,IAAMjC,EAAO,EAAKU,MAAMI,SAElBoB,EAAcC,IAAU,OAAOC,OAAO,KAM5C,GAJIF,GACHA,EAAYG,SAGTrC,EAAKC,OAAS,EAAG,CAEpB,IAAMqC,EAAUtC,EAAKuC,MAAM,EAAE,KAE7BC,QAAQC,IAAI,WAAYzC,GAExB,IAAM0C,EAAUP,IAAU,QAAQQ,OAAO,OAAOC,KAAK,QAAQ,WAKvDC,EAAUV,IAAmBA,KAAuBW,OAAO,CAAC,EAAE,IAE9DC,EAAMZ,IAAU,OAENY,EAAIJ,OAAO,KAEnBK,UAAU,iBAChBhD,KAAKsC,GACLW,QAAQN,OAAO,UACfC,KAAK,QAAS,UACdA,KAAK,KAAM,GACXA,KAAK,KAAMM,KACXN,KAAK,KAAK,SAACtC,EAAG6C,EAAGC,GACjB,IAAMC,EAfK,IAeK,EAAIF,GAIpB,OAHIA,IAAMC,EAAEnD,OAAS,GACpB8C,EAAIH,KAAK,QAASS,EAAS,IAErBA,KAEPT,KAAK,OAAQ,QACbA,KAAK,UAAU,SAACtC,GAAD,OAAOuC,EAAQS,KAAKC,MAAMjD,EAAEkD,SAC3CZ,KAAK,eAAgB,IACrBa,GAAG,aAAa,SAACnD,EAAG6C,EAAGC,GACvBV,EAAQZ,MAAM,UAAU,KACtBA,MAAM,OAAOK,IAASuB,MAAQ,MAC9B5B,MAAM,MAAMK,IAASwB,MAAQ,MAC7BC,KAHF,UAGU,IAAIC,KAAKvD,EAAEwD,MAAMC,cAH3B,gBAGgDzD,EAAE0D,WAElDP,GAAG,YAAY,WACff,EAAQZ,MAAM,UAAU,U,kEAzDvBmC,KAAKhC,c,2CAILgC,KAAKhC,c,+BA4DT,OAAO,yBAAKiC,UAAU,iBAAgB,yBAAKA,UAAU,a,GAnEjCC,IAAMC,YA6EbtE,eANS,SAAAC,GACvB,MAAO,CACNe,SAAUf,EAAMC,KAAKC,OAASF,EAAMC,KAAKD,EAAMI,cAAcW,SAAW,MAI3DhB,CAAyBkC,G,oDCtElCqC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACNC,OAAQF,EAAMG,QAAQ,GACpBC,QAASJ,EAAMG,QAAQ,IAE1BE,MAAO,CACN,gBAAiBL,EAAMG,QAAQ,GAC7B,QAAW,SAEbG,KAAM,CACJ,MAAS,MACT,aAAc,cAkHH/E,eAvBS,SAAAC,GACtB,IAAKA,EAAMC,KAAKC,OAAQ,MAAO,GAC/B,IACMM,EADcR,EAAMC,KAAKD,EAAMI,cACRI,SAC9B,MAAO,CACJX,MAAOG,EAAMI,aACfI,SAAUA,MAIe,SAAAE,GAAQ,MAAK,CACtCqE,iBAAkB,SAAClF,EAAOW,GACxB,OAAOE,EF3GJ,SAA4Bb,EAAOgB,GACzC,MAAO,CACNC,KAhBkC,uBAiBlCjB,MAAOA,EACPgB,QAASA,GEwGLmE,CAAmBnF,EAAOW,KAG9ByE,aAAc,SAACpF,EAAOW,GACpB,OAAOE,EF5Dc,SACvBb,EADuB,GAUpB,EAPDY,KAOE,IANFyE,EAMC,EANDA,SACAC,EAKC,EALDA,UACAC,EAIC,EAJDA,QACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,OAGF,OAAO,SAAA5E,GACLA,EAfgC,CAAEI,KA5DR,mBA6E1ByE,MAAM,+EACLC,MAAM,SAAAvF,GAAI,OAAIA,EAAKwF,UACnBD,MAAM,SAAAC,GACL,IAAMC,EAASD,EAAK1E,SACnB4E,QACC,SAAAC,GACE,IAAMC,EAAID,EAAME,WAEVC,GAAab,GAAWW,EAAEG,MAAMC,SAASf,GACzCgB,GAAcf,GAAYU,EAAE9B,MAAQD,KAAKqC,MAAMhB,GAC/CiB,GAAehB,GAAUS,EAAE9B,MAAQD,KAAKqC,MAAMf,GAC9CiB,GAAehB,GAASQ,EAAEpC,KAAO4B,EACjCiB,GAAchB,GAASO,EAAEpC,KAAO6B,EAEtC,OAAOS,GAAcG,GAAeE,GAAgBC,GAAgBC,KAGvEhG,KACC,SAAAsF,GAAK,MAAK,CACR,GAAMA,EAAME,WAAWhG,GACvB,MAAS8F,EAAME,WAAW7B,MAC1B,KAAQ2B,EAAME,WAAW/B,KACzB,IAAO6B,EAAME,WAAWrC,IACxB,YAAemC,EAAME,WAAWS,gBAGnCC,UAED9F,EA5C6B,CAAEI,KA5DR,kBA0GvBJ,EAxFC,SAA4Bb,EAAOgB,GACzC,MAAO,CACNC,KAvBkC,uBAwBlCjB,MAAOA,EACPgB,QAASA,GAqFH4F,CAAoB5G,EAAO6F,QEgB7BgB,CAAU7G,EAAOW,QAKRT,EA9GE,SAAC,GAAqE,IAApEgF,EAAmE,EAAnEA,iBAAkBE,EAAiD,EAAjDA,aAA4BpF,GAAqB,EAAnC8G,aAAmC,EAArB9G,OAAOW,EAAc,EAAdA,SAchEoG,EAAe,SAAAC,GACnB,IAAMC,EAAW,eAAOtG,GACxBsG,EAAYD,EAAEE,OAAOjH,IAAM+G,EAAEE,OAAOvF,MACpCuD,EAAiBlF,EAAOiH,IAGrBE,EAAU1C,IAET2C,EAAczG,EAAW0G,OAAOC,KAAK3G,GAAY,KAEjD4G,EAAoB,CACxB3G,KAAM,CACJoB,MAAO,OACPf,KAAM,QAERoE,SAAU,CACRrD,MAAO,WACPf,KAAM,QAERqE,UAAW,CACTtD,MAAO,aACPf,KAAM,QAERsE,QAAS,CACPvD,MAAO,WACPf,KAAM,QAERuE,OAAQ,CACNxD,MAAO,oBACPf,KAAM,QAERwE,OAAQ,CACNzD,MAAO,oBACPf,KAAM,SAIX,OACC,kBAACuG,EAAA,EAAD,CAAOlD,UAAW6C,EAAQvC,MACzB,0BAAM6C,SAnDc,SAAAT,GACnBA,EAAEU,iBACF9E,QAAQC,IAAImE,EAAEE,QACd,IAAMvG,EAAW0G,OAAOM,OAAOX,EAAEE,QAAQvE,MAAM,EAAE,GAAGiF,QAClD,SAACC,EAAQC,GAEP,OADAD,EAAOC,EAAQ7H,IAAM6H,EAAQnG,MACtBkG,IACN,IAELzC,EAAapF,EAAMW,KA2CnB,mDAEMyG,GAAeA,EAAY3G,KACzB,SAAAqB,GAAG,OAAI,kBAACiG,EAAA,EAAD,CACLjG,IAAKA,EACV7B,GAAI6B,EACJwC,UAAW6C,EAAQnC,MACnBhD,MAAOuF,EAAkBzF,GAAKE,MACzBf,KAAMsG,EAAkBzF,GAAKb,KAC7B+G,gBAAiB,CACfC,OAAwC,SAAhCV,EAAkBzF,GAAKb,MAAmBiH,QAAQvH,EAASmB,KAE1EH,MAAOhB,EAASmB,GACXqG,SAAUpB,OAKpB,kBAACqB,EAAA,EAAD,CACCC,QAAQ,YACRpH,KAAK,SACLqH,UAAW,kBAAC,IAAD,OAHZ,UAOI,uBAAGhE,UAAW6C,EAAQlC,MAAtB,qEC8EOsD,EAxLM,CACpBhI,aAAc,EACdiI,UAAU,EACVpI,KAAM,CACL,CACIO,SAAU,CACf,KAAQ,SACP,SAAY,cACZ,UAAa,aACb,QAAW,aACX,OAAU,MACV,OAAU,OAENO,SAAU,CACd,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,IACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,gCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,+BACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,gCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,IACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,gCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,Y,wBCjHSuH,EANKC,YAAgB,CAClCnI,aA9CmB,WAAsB,IAArBJ,EAAoB,uDAAd,EAAGwI,EAAW,uCACzC,OAAQA,EAAO1H,MACd,IJZ0B,eIazB,OAAO0H,EAAO3I,MACb,IJbuB,cIcrB,OAAO2I,EAAO3H,QAClB,QACC,OAAOb,IAwCRC,KApCW,WAAuB,IAAtBD,EAAqB,uDAAf,GAAIwI,EAAW,uCAC3BC,EAAQ,YAAOzI,GAEtB,OAAQwI,EAAO1H,MACd,IJ3BsB,WI4BrB,MAAM,GAAN,mBAAWd,GAAX,CAAkBwI,EAAO3H,UAC1B,IJ5ByB,cI8BxB,OADA4H,EAASD,EAAO3I,OAAS2I,EAAO3H,QACzB4H,EACN,IJ3BgC,uBI6B9B,OADAA,EAASD,EAAO3I,OAAOW,SAAWgI,EAAO3H,QAClC4H,EACT,IJ7BgC,uBI+B9B,OADAA,EAASD,EAAO3I,OAAOkB,SAAWyH,EAAO3H,QAClC4H,EACT,IJnCuB,cIqCxB,OADGA,EAASC,OAAOF,EAAO3I,MAAM,GACzB4I,EACR,QACC,OAAOzI,IAkBRqI,SAde,WAA0B,IAAzBrI,EAAwB,wDAAXwI,EAAW,uCACzC,OAAQA,EAAO1H,MACd,IJxC4B,iBIyC3B,OAAO,EACR,IJzC2B,gBI0C1B,OAAO,EACR,QACC,OAAOd,MClCJ2I,G,OAAQC,YAAYN,EANJ,WACpB,IAAMO,EAAaC,aAAaC,QAAQ,uBAExC,OADcF,EAAaG,KAAK7C,MAAM0C,GAAcT,EAIfa,GAAiBC,YAAgBC,OAElEC,EAAmB,WACvB,IAAMpJ,EAAQgJ,KAAKK,UAAUV,EAAMW,YACnCR,aAAaS,QAAQ,sBAAuBvJ,IAExCwJ,EAAmB,WACvBV,aAAaW,WAAW,wBA2BXC,MAxBf,WACE,OACE,kBAAC,IAAD,CAAUf,MAAOA,GACf,kBAACgB,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAC,EAAD,OAEF,kBAACH,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC,EAAD,OAEF,kBAACH,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC,EAAD,QAGJ,kBAAC7B,EAAA,EAAD,CAAQnG,QAASsH,GAAjB,sBAGA,kBAACnB,EAAA,EAAD,CAAQnG,QAAS0H,GAAjB,mBClCczB,QACW,cAA7BgC,OAAO7E,SAAS8E,UAEe,UAA7BD,OAAO7E,SAAS8E,UAEhBD,OAAO7E,SAAS8E,SAASC,MACvB,2DCXNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBjF,MAAK,SAAAkF,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLpI,QAAQoI,MAAMA,EAAMC,c","file":"static/js/main.06cb1087.chunk.js","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport {\n  addView,\n  currentView,\n  removeView\n} from '../actions'\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst NavBar = ({currentTab, tabs, onDisplayTab, onAddTab, onRemoveTab}) => {\n\treturn (\n\t\t<AppBar position=\"static\">\n      <Tabs value={currentTab} aria-label=\"simple tabs example\">\n  \t\t\t{\n          tabs &&\n          tabs.map((tab, key) =>\n          <Tab\n            key={key}\n            label={tab || 'New Panel'}\n            onClick={()=>onDisplayTab(key)}\n            {...a11yProps(tab)} />\n  \t\t\t   )\n        }\n        <Tab\n          style={{background: 'green'}}\n          label='+' {...a11yProps('add-tab')}\n          onClick={onAddTab}\n        />\n        {\n          tabs.length-1 &&\n          <Tab\n            style={{background: 'red'}}\n            label='-' {...a11yProps('remove-tab')}\n            onClick={()=>onRemoveTab(currentTab)}\n          />\n        }\n      </Tabs>\n\t\t</AppBar>\n\t)\n}\n\nconst mapStateToProps = state => {\n  if (!state.data.length) return {}\n\treturn {\n    currentTab: state.currentIndex,\n    tabs: state.data.map(\n      d => d.settings.name\n    )\n\t};\n};\n\nconst mapDispatchToProps = ( dispatch, props ) => ({\n  onAddTab: () => dispatch(\n    addView()\n  ),\n  onDisplayTab: index => dispatch(\n    currentView(index)\n  ),\n  onRemoveTab: (index, settings) => {\n    return dispatch(\n      removeView(index)\n    )\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar)\n","export const ADD_VIEW = 'ADD_VIEW'\nexport const UPDATE_VIEW = 'UPDATE_VIEW'\nexport const CURRENT_VIEW = 'CURRENT_VIEW'\nexport const REMOVE_VIEW = 'REMOVE_VIEW'\n\nexport const UPDATE_VIEW_SETTINGS = 'UPDATE_VIEW_SETTINGS'\nexport const UPDATE_VIEW_FEATURES = 'UPDATE_VIEW_FEATURES'\n\nexport const START_FETCHING = 'START_FETCHING'\nexport const STOP_FETCHING = 'STOP_FETCHING'\n\nexport function updateView(index, payload) {\n\treturn {\n\t\ttype: UPDATE_VIEW,\n\t\tindex: index,\n\t\tpayload: payload\n\t}\n}\n\nexport function updateViewSettings(index, payload) {\n\treturn {\n\t\ttype: UPDATE_VIEW_SETTINGS,\n\t\tindex: index,\n\t\tpayload: payload\n\t}\n}\n\nexport function updateViewFeatures(index, payload) {\n\treturn {\n\t\ttype: UPDATE_VIEW_FEATURES,\n\t\tindex: index,\n\t\tpayload: payload\n\t}\n}\n\nexport function addView(payload = {}) {\n\treturn {\n\t\ttype: ADD_VIEW,\n\t\tpayload: {\n      name: payload.name ? payload.name : \"Default\",\n      settings: payload.settings ? payload.settings : {\n      \t\"name\": \"\",\n        \"location\": \"\",\n        \"startTime\": \"\",\n        \"endTime\": \"\",\n        \"magMin\": \"\",\n        \"magMax\": \"\"\n      },\n      features: payload.features ? payload.features : {}\n    }\n\t}\n}\n\nexport function currentView(index) {\n\treturn {\n\t\ttype: CURRENT_VIEW,\n\t\tindex: index\n\t}\n}\n\nexport function removeView(index) {\n\treturn {\n\t\ttype: REMOVE_VIEW,\n\t\tindex: index,\n\t\tpayload: index ? index - 1 : 0\n\t}\n}\n\nexport const startFetching = () => ({ type: START_FETCHING })\nexport const stopFetching = () => ({ type: STOP_FETCHING })\n\nexport const fetchData = (\n  index,\n  {\n    name,\n    location,\n    startTime,\n    endTime,\n    magMin,\n    magMax\n  }\n) => {\n  return dispatch => {\n    dispatch(startFetching());\n\n    fetch('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson')\n    .then( data => data.json() )\n    .then( json => {\n      const quakes = json.features\n      .filter(\n        quake => {\n          const q = quake.properties\n\n          const isLocation = location ? q.place.includes(location) : true\n          const isAfterTime = startTime ? q.time >= Date.parse(startTime) : true\n          const isBeforeTime = endTime ? q.time <= Date.parse(endTime) : true\n          const isGreaterMag = magMin ? q.mag >= magMin : true\n          const isLesserMag = magMax ? q.mag <= magMax : true\n\n          return isLocation && isAfterTime && isBeforeTime && isGreaterMag && isLesserMag\n        }\n      )\n      .map(\n        quake => ({\n          \"id\": quake.properties.id,\n          \"title\": quake.properties.title,\n          \"time\": quake.properties.time,\n          \"mag\": quake.properties.mag,\n          \"coordinates\": quake.properties.coordinates\n        })\n      )\n      .reverse()\n\n      dispatch(stopFetching());\n\n      dispatch(\n        updateViewFeatures( index, quakes )\n      )\n\n    })\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as d3 from 'd3';\nimport './Display.css';\n\nclass Display extends React.Component {\n\n\t componentDidMount() {\n      this.visualize()\n   }\n\n\t componentDidUpdate() {\n      this.visualize()\n   }\n\n\t visualize = () => {\n\n\t\tconst data = this.props.features\n\n\t\tconst hasChildren = d3.select('svg').select('g')\n\n\t\tif (hasChildren) {\n\t\t\thasChildren.remove()\n\t\t}\n\n\t\tif (data.length > 0) {\n\n\t\t\tconst dataSet = data.slice(0,100)\n\n\t\t\tconsole.log(\"Display:\", data);\n\n\t\t\tconst tooltip = d3.select(\"body\").append(\"div\").attr(\"class\",\"tooltip\")\n\n\t\t\tconst height = 490\n\t\t\tconst zoom = 20\n\n\t\t\tconst rainbow = d3.scaleSequential(d3.interpolateInferno).domain([0,6])\n\n\t\t\tconst svg = d3.select('svg')\n\n\t\t\tconst ripples = svg.append(\"g\")\n\n\t\t\tripples.selectAll('circle.ripple')\n\t\t\t\t.data(dataSet)\n\t\t\t\t.enter().append('circle')\n\t\t\t\t.attr('class', 'ripple')\n\t\t\t\t.attr('cx', 0)\n\t\t\t\t.attr('cy', height / 2)\n\t\t\t\t.attr('r', (d, i, n) => {\n\t\t\t\t\tconst radius = (1 + i) * zoom\n\t\t\t\t\tif (i === n.length - 1) {\n\t\t\t\t\t\tsvg.attr(\"width\", radius + 10)\n\t\t\t\t\t}\n\t\t\t\t\treturn radius\n\t\t\t\t})\n\t\t\t\t.attr('fill', 'none')\n\t\t\t\t.attr('stroke', (d) => rainbow(Math.round(d.mag)))\n\t\t\t\t.attr('stroke-width', 10)\n\t\t\t\t.on('mousemove', (d, i, n) => {\n\t\t\t\t\ttooltip.style(\"opacity\",\"1\")\n\t\t\t\t\t\t.style(\"left\",d3.event.pageX + 'px')\n\t\t\t\t\t\t.style(\"top\",d3.event.pageY + 'px')\n\t\t\t\t\t\t.html(`${new Date(d.time).toUTCString()}<br/>${d.title}`)\n\t\t\t\t})\n\t\t\t\t.on(\"mouseout\", () => {\n\t\t\t\t\ttooltip.style(\"opacity\",\"0\")\n\t\t\t\t})\n\t\t}\n\n\t }\n\n\trender() {\n\t\treturn <div className=\"svg-container\"><svg className=\"svg\" /></div>\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tfeatures: state.data.length ? state.data[state.currentIndex].features : {},\n\t};\n};\n\nexport default connect(mapStateToProps)(Display)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  updateViewSettings,\n  fetchData\n} from '../actions'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n\t\tmargin: theme.spacing(2),\n    padding: theme.spacing(2),\n  },\n\tfield: {\n\t\t'margin-bottom': theme.spacing(2),\n    'display': 'block'\n\t},\n  note: {\n    \"color\": \"red\",\n    \"font-style\": \"italic\"\n  }\n}));\n\nconst Settings = ({onUpdateSettings, onUpdateData, onRemoveData, index, settings}) => {\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    console.log(e.target);\n    const settings = Object.values(e.target).slice(0,6).reduce(\n      (result, setting) => {\n        result[setting.id] = setting.value\n        return result\n      }, {}\n    )\n    onUpdateData(index,settings)\n  }\n\n  const handleChange = e => {\n    const newSettings = {...settings}\n    newSettings[e.target.id] = e.target.value\n    onUpdateSettings(index, newSettings)\n  }\n\n\tconst classes = useStyles();\n\n  const settingKeys = settings ? Object.keys(settings) : null\n\n  const settingAttributes = {\n    name: {\n      label: 'Name',\n      type: 'text'\n    },\n    location: {\n      label: 'Location',\n      type: 'text'\n    },\n    startTime: {\n      label: 'Start Date',\n      type: 'date'\n    },\n    endTime: {\n      label: 'End Date',\n      type: 'date'\n    },\n    magMin: {\n      label: 'Minimum Magnitude',\n      type: 'text'\n    },\n    magMax: {\n      label: 'Maximum Magnitude',\n      type: 'text'\n    }\n  }\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<h2>Earthquake Settings</h2>\n        {\n          settingKeys && settingKeys.map(\n            key => <TextField\n              key={key}\n    \t\t\t\t\tid={key}\n    \t\t\t\t\tclassName={classes.field}\n    \t\t\t\t\tlabel={settingAttributes[key].label}\n              type={settingAttributes[key].type}\n              InputLabelProps={{\n                shrink: settingAttributes[key].type === 'date' || Boolean(settings[key])\n              }}\n    \t\t\t\t\tvalue={settings[key]}\n              onChange={handleChange}\n    \t\t\t\t/>\n          )\n        }\n\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t>\n\t\t\t\tUpdate\n\t\t\t\t</Button>\n        <p className={classes.note}>\n          Displays maximum 100 datapoints from up to one month of data\n        </p>\n\t\t\t</form>\n\t\t</Paper>\n\t)\n}\n\nconst mapStateToProps = state => {\n  if (!state.data.length) return {}\n  const currentData = state.data[state.currentIndex]\n  const settings = currentData.settings\n\treturn {\n    index: state.currentIndex,\n\t\tsettings: settings\n\t};\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateSettings: (index, settings) => {\n    return dispatch(\n      updateViewSettings(index, settings)\n    )\n  },\n  onUpdateData: (index, settings) => {\n    return dispatch(\n      fetchData(index, settings)\n    )\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings)\n","const defaultState = {\n\tcurrentIndex: 0,\n\tfetching: false,\n\tdata: [\n\t\t{\n      settings: {\n\t\"name\": \"quake1\",\n  \"location\": \"Magna, Utah\",\n  \"startTime\": \"2020-03-18\",\n  \"endTime\": \"2020-03-24\",\n  \"magMin\": \"3.5\",\n  \"magMax\": \"5.7\"\n},\n      features: [\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 5.7 - 6km NNE of Magna, Utah\",\n    \"time\": 1584536971530,\n    \"mag\": 5.7,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 4km NNE of Magna, Utah\",\n    \"time\": 1584537008210,\n    \"mag\": 3.94,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.0 - 4km NNE of Magna, Utah\",\n    \"time\": 1584537016960,\n    \"mag\": 4.01,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.2 - 1km NNW of Magna, Utah\",\n    \"time\": 1584537059440,\n    \"mag\": 4.17,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 5km NNE of Magna, Utah\",\n    \"time\": 1584537072120,\n    \"mag\": 3.74,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 7km NNE of Magna, Utah\",\n    \"time\": 1584537261540,\n    \"mag\": 3.69,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 2km NNE of Magna, Utah\",\n    \"time\": 1584537311480,\n    \"mag\": 3.67,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 6km NE of Magna, Utah\",\n    \"time\": 1584537722060,\n    \"mag\": 3.67,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 4km N of Magna, Utah\",\n    \"time\": 1584537799860,\n    \"mag\": 3.66,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 6km NE of Magna, Utah\",\n    \"time\": 1584538349850,\n    \"mag\": 3.86,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.5 - 3km NNE of Magna, Utah\",\n    \"time\": 1584538598070,\n    \"mag\": 3.5,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.6 - 7km NNE of Magna, Utah\",\n    \"time\": 1584540132830,\n    \"mag\": 4.59,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.6 - 5km NNE of Magna, Utah\",\n    \"time\": 1584543461430,\n    \"mag\": 3.56,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.6 - 5km NE of Magna, Utah\",\n    \"time\": 1584558743610,\n    \"mag\": 4.57,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 8km NNE of Magna, Utah\",\n    \"time\": 1584926235310,\n    \"mag\": 3.94,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  }\n]\n    }\n\t]\n}\n\nexport default defaultState\n","import { combineReducers } from 'redux'\nimport {\n  ADD_VIEW,\n  UPDATE_VIEW,\n\tCURRENT_VIEW,\n  REMOVE_VIEW,\n  UPDATE_VIEW_SETTINGS,\n  UPDATE_VIEW_FEATURES,\n  START_FETCHING,\n  STOP_FETCHING\n} from './actions'\n\nconst currentIndex = (state=0, action) => {\n\tswitch (action.type) {\n\t\tcase CURRENT_VIEW:\n\t\t\treturn action.index\n    case REMOVE_VIEW:\n      return action.payload\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst data = (state=[], action) => {\n  const newState = [...state]\n\n\tswitch (action.type) {\n\t\tcase ADD_VIEW:\n\t\t\treturn [...state, action.payload]\n\t\tcase UPDATE_VIEW:\n\t\t\tnewState[action.index] = action.payload\n\t\t\treturn newState\n    case UPDATE_VIEW_SETTINGS:\n      newState[action.index].settings = action.payload\n      return newState\n    case UPDATE_VIEW_FEATURES:\n      newState[action.index].features = action.payload\n      return newState\n    case REMOVE_VIEW:\n      newState.splice(action.index,1)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst fetching = (state=false, action) => {\n\tswitch (action.type) {\n\t\tcase START_FETCHING:\n\t\t\treturn true\n\t\tcase STOP_FETCHING:\n\t\t\treturn false\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst rootReducer = combineReducers({\n  currentIndex,\n  data,\n  fetching\n})\n\nexport default rootReducer\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport NavBar from './Components/NavBar';\nimport Display from './Components/Display';\nimport Settings from './Components/Settings';\nimport defaultState from './defaultState'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers'\nimport './App.css';\n\nconst getLocalState = () => {\n  const savedState = localStorage.getItem('quaking-earth-state')\n  const state = savedState ? JSON.parse(savedState) : defaultState\n  return state\n};\n\nconst store = createStore(rootReducer, getLocalState(), applyMiddleware(thunk))\n\nconst saveStateLocally = () => {\n  const state = JSON.stringify(store.getState());\n  localStorage.setItem('quaking-earth-state', state);\n};\nconst dropStateLocally = () => {\n  localStorage.removeItem('quaking-earth-state');\n};\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Grid container>\n        <Grid item xs={12}>\n          <NavBar />\n        </Grid>\n        <Grid item xs={9}>\n          <Display />\n        </Grid>\n        <Grid item xs={3}>\n          <Settings />\n        </Grid>\n      </Grid>\n      <Button onClick={saveStateLocally}>\n        Save Current State\n      </Button>\n      <Button onClick={dropStateLocally}>\n        Default State\n      </Button>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'typeface-roboto';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}