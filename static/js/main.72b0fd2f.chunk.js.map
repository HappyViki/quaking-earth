{"version":3,"sources":["actions.js","Components/NavBar.js","Components/Display.js","fetchData.js","Components/Settings.js","defaultState.js","reducers.js","App.js","reportWebVitals.js","index.js"],"names":["ADD_PANEL","DELETE_PANEL","UPDATE_PANEL","CURRENT_PANEL","UPDATE_PANEL_SETTINGS","UPDATE_PANEL_FEATURES","START_FETCHING","STOP_FETCHING","a11yProps","index","id","connect","state","data","length","currentPanel","tabs","map","d","settings","name","dispatch","props","addPanel","payload","type","features","setCurrentPanel","value","aria-label","className","tab","key","onClick","Display","visualize","hasChildren","d3","select","remove","dataSet","slice","console","log","tooltip","rainbow","domain","svg","append","selectAll","enter","attr","height","i","n","radius","Math","round","mag","on","style","pageX","pageY","html","Date","time","toUTCString","title","this","React","Component","fetchData","location","startTime","endTime","magMin","magMax","fetch","then","json","quakes","filter","quake","q","properties","isLocation","place","includes","isAfterTime","parse","isBeforeTime","isGreaterMag","isLesserMag","coordinates","reverse","updatePanelFeatures","updatePanelSettings","deletePanel","handleChange","e","newSettings","target","settingKeys","Object","keys","settingAttributes","label","onSubmit","preventDefault","values","reduce","result","setting","onChange","variant","defaultState","fetching","rootReducer","combineReducers","action","newState","panel","store","createStore","savedState","localStorage","getItem","JSON","getLocalState","applyMiddleware","thunk","saveStateLocally","stringify","getState","setItem","dropStateLocally","removeItem","App","display","flexDirection","flex","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72b0fd2f.chunk.js","sourcesContent":["export const ADD_PANEL = 'ADD_PANEL'\nexport const DELETE_PANEL = 'DELETE_PANEL'\nexport const UPDATE_PANEL = 'UPDATE_PANEL'\nexport const CURRENT_PANEL = 'CURRENT_PANEL'\n\nexport const UPDATE_PANEL_SETTINGS = 'UPDATE_PANEL_SETTINGS'\nexport const UPDATE_PANEL_FEATURES = 'UPDATE_PANEL_FEATURES'\n\nexport const START_FETCHING = 'START_FETCHING'\nexport const STOP_FETCHING = 'STOP_FETCHING'\n\nexport const updatePanel = (index, payload) => ({\n\ttype: UPDATE_PANEL,\n\tindex: index,\n\tpayload: payload\n})\n\n\nexport const updatePanelSettings = (index, payload) => ({\n\ttype: UPDATE_PANEL_SETTINGS,\n\tindex: index,\n\tpayload: payload\n})\n\nexport const updatePanelFeatures = (index, payload) => ({\n\ttype: UPDATE_PANEL_FEATURES,\n\tindex: index,\n\tpayload: payload\n})\n\nexport const addPanel = (payload = {}) => ({\n\ttype: ADD_PANEL,\n\tpayload: {\n    name: payload.name ? payload.name : \"Default\",\n    settings: payload.settings ? payload.settings : {\n    \t\"name\": \"new quake panel\",\n      \"location\": \"\",\n      \"startTime\": \"\",\n      \"endTime\": \"\",\n      \"magMin\": \"\",\n      \"magMax\": \"\"\n    },\n    features: payload.features ? payload.features : {}\n  }\n})\n\nexport const deletePanel = index => ({\n\ttype: DELETE_PANEL,\n\tindex: index\n})\n\nexport const setCurrentPanel = index => ({\n\ttype: CURRENT_PANEL,\n\tindex: index\n})\n\nexport const startFetching = () => ({ type: START_FETCHING })\nexport const stopFetching = () => ({ type: STOP_FETCHING })\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport {\n  addPanel,\n  setCurrentPanel\n} from '../actions'\nimport './NavBar.css';\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst NavBar = ({currentPanel, tabs, setCurrentPanel, addPanel}) => {\n\n  return (\n    <div value={currentPanel} aria-label=\"earthquake panel tabs\" className=\"navbar\">\n\t\t\t{tabs && tabs.map((tab, key) =>\n        <button key={key} onClick={()=>setCurrentPanel(key)} className={currentPanel === key ? 'tab current' : 'tab'} {...a11yProps(tab)}>{tab}</button>\n\t\t\t)}\n      <button\n        className=\"add-tab\"\n         {...a11yProps('add-tab')}\n        onClick={addPanel}\n      >+</button>\n    </div>\n\t)\n}\n\nconst mapStateToProps = state => {\n  if (!state.data.length) return {}\n\treturn {\n    currentPanel: state.currentPanel,\n    tabs: state.data.map(\n      d => d.settings.name\n    )\n\t};\n};\n\nconst mapDispatchToProps = ( dispatch, props ) => ({\n  addPanel: () => dispatch(\n    addPanel()\n  ),\n  setCurrentPanel: index => dispatch(\n    setCurrentPanel(index)\n  )\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as d3 from 'd3';\nimport './Display.css';\n\nclass Display extends React.Component {\n\n\t componentDidMount() {\n      this.visualize()\n   }\n\n\t componentDidUpdate() {\n      this.visualize()\n   }\n\n\t visualize = () => {\n\n\t\tconst data = this.props.features\n\n\t\tconst hasChildren = d3.select('svg').select('g')\n\n\t\tif (hasChildren) {\n\t\t\thasChildren.remove()\n\t\t}\n\n\t\tif (data.length > 0) {\n\n\t\t\tconst dataSet = data.slice(0,100)\n\n\t\t\tconsole.log(\"Display:\", data);\n\n\t\t\tconst tooltip = d3.select(\".tooltip\")\n\n\t\t\tconst height = 490\n\t\t\tconst zoom = 20\n\n\t\t\tconst rainbow = d3.scaleSequential(d3.interpolateInferno).domain([0,6])\n\n\t\t\tconst svg = d3.select('svg')\n\n\t\t\tconst ripples = svg.append(\"g\")\n\n\t\t\tripples.selectAll('circle.ripple')\n\t\t\t\t.data(dataSet)\n\t\t\t\t.enter().append('circle')\n\t\t\t\t.attr('class', 'ripple')\n\t\t\t\t.attr('cy', height / 2)\n\t\t\t\t.attr('r', (d, i, n) => {\n\t\t\t\t\tconst radius = (1 + i) * zoom\n\t\t\t\t\tif (i === n.length - 1) {\n\t\t\t\t\t\tsvg.attr(\"width\", radius + 10)\n\t\t\t\t\t}\n\t\t\t\t\treturn radius\n\t\t\t\t})\n\t\t\t\t.attr('stroke', (d) => rainbow(Math.round(d.mag)))\n\t\t\t\t.on('mousemove', (d, i, n) => {\n\t\t\t\t\ttooltip.style(\"opacity\",\"1\")\n\t\t\t\t\t\t.style(\"left\",d3.event.pageX + 'px')\n\t\t\t\t\t\t.style(\"top\",d3.event.pageY + 'px')\n\t\t\t\t\t\t.html(`${new Date(d.time).toUTCString()}<br/>${d.title}`)\n\t\t\t\t})\n\t\t\t\t.on(\"mouseout\", () => {\n\t\t\t\t\ttooltip.style(\"opacity\",\"0\")\n\t\t\t\t})\n\t\t}\n\n\t }\n\n\trender() {\n\t\treturn <div className=\"svg-container\"><svg className=\"svg\" /></div>\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tfeatures: state.data.length ? state.data[state.currentPanel].features : {},\n\t};\n};\n\nexport default connect(mapStateToProps)(Display)\n","import {\n  startFetching,\n\tstopFetching,\n\tupdatePanelFeatures\n} from './actions'\n\nconst fetchData = (\n  index,\n  {\n    name,\n    location,\n    startTime,\n    endTime,\n    magMin,\n    magMax\n  }\n) => {\n  return dispatch => {\n    dispatch(startFetching());\n\n    fetch('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson')\n    .then( data => data.json() )\n    .then( json => {\n      const quakes = json.features\n      .filter(\n        quake => {\n          const q = quake.properties\n\n          const isLocation = location ? q.place.includes(location) : true\n          const isAfterTime = startTime ? q.time >= Date.parse(startTime) : true\n          const isBeforeTime = endTime ? q.time <= Date.parse(endTime) : true\n          const isGreaterMag = magMin ? q.mag >= magMin : true\n          const isLesserMag = magMax ? q.mag <= magMax : true\n\n          return isLocation && isAfterTime && isBeforeTime && isGreaterMag && isLesserMag\n        }\n      )\n      .map(\n        quake => ({\n          \"id\": quake.properties.id,\n          \"title\": quake.properties.title,\n          \"time\": quake.properties.time,\n          \"mag\": quake.properties.mag,\n          \"coordinates\": quake.properties.coordinates\n        })\n      )\n      .reverse()\n\n      dispatch(stopFetching());\n\n      dispatch(\n        updatePanelFeatures( index, quakes )\n      )\n\n    })\n  }\n}\n\nexport default fetchData\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport {\n  updatePanelSettings,\n  deletePanel,\n} from '../actions'\nimport fetchData from '../fetchData'\nimport './Settings.css';\n\nconst Settings = ({updatePanelSettings, deletePanel, fetchData, currentPanel, settings}) => {\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    const settings = Object.values(e.target).slice(0,6).reduce(\n      (result, setting) => {\n        result[setting.id] = setting.value\n        return result\n      }, {}\n    )\n    fetchData(currentPanel,settings)\n  }\n\n  const handleChange = e => {\n    const newSettings = {...settings}\n    newSettings[e.target.id] = e.target.value\n    updatePanelSettings(currentPanel, newSettings)\n  }\n\n  const settingKeys = settings ? Object.keys(settings) : null\n\n  const settingAttributes = {\n    name: {\n      label: 'Name',\n      type: 'text'\n    },\n    location: {\n      label: 'Location',\n      type: 'text'\n    },\n    startTime: {\n      label: 'Start Date',\n      type: 'date'\n    },\n    endTime: {\n      label: 'End Date',\n      type: 'date'\n    },\n    magMin: {\n      label: 'Minimum Magnitude',\n      type: 'text'\n    },\n    magMax: {\n      label: 'Maximum Magnitude',\n      type: 'text'\n    }\n  }\n\n\treturn (\n\t\t<div className=\"settings\">\n    {\n      settingKeys ?\n      <>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<h2>Earthquake Settings</h2>\n        {\n          settingKeys && settingKeys.map(\n            key => <input\n              key={key}\n    \t\t\t\t\tid={key}\n              className='field'\n    \t\t\t\t\tlabel={settingAttributes[key].label}\n              type={settingAttributes[key].type}\n    \t\t\t\t\tvalue={settings[key]}\n              onChange={handleChange}\n    \t\t\t\t/>\n          )\n        }\n\n\t\t\t\t<button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t>\n\t\t\t\tUpdate\n\t\t\t\t</button>\n        <p>\n          Displays maximum 100 datapoints from up to one month of data\n        </p>\n\t\t\t</form>\n      <button\n        onClick={()=>{deletePanel(currentPanel)}}\n      >\n      Delete Panel\n      </button>\n      </> : <p>Please add a panel by clicking the green button on the left of your screen.</p>\n    }\n\t\t</div>\n\t)\n}\n\nconst mapStateToProps = state => {\n  if (!state.data.length) return {}\n  const currentData = state.data[state.currentPanel]\n  const settings = currentData.settings\n\treturn {\n    currentPanel: state.currentPanel,\n\t\tsettings: settings\n\t};\n};\n\nconst mapDispatchToProps = dispatch => ({\n  updatePanelSettings: (index, settings) => {\n    return dispatch(\n      updatePanelSettings(index, settings)\n    )\n  },\n  deletePanel: index => {\n    return dispatch(\n      deletePanel(index)\n    )\n  },\n  fetchData: (index, settings) => {\n    return dispatch(\n      fetchData(index, settings)\n    )\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings)\n","const defaultState = {\n\tcurrentPanel: 0,\n\tfetching: false,\n\tdata: [\n\t\t{\n      settings: {\n\t\"name\": \"quake1\",\n  \"location\": \"Magna, Utah\",\n  \"startTime\": \"2020-03-18\",\n  \"endTime\": \"2020-03-24\",\n  \"magMin\": \"3.5\",\n  \"magMax\": \"5.7\"\n},\n      features: [\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 5.7 - 6km NNE of Magna, Utah\",\n    \"time\": 1584536971530,\n    \"mag\": 5.7,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 4km NNE of Magna, Utah\",\n    \"time\": 1584537008210,\n    \"mag\": 3.94,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.0 - 4km NNE of Magna, Utah\",\n    \"time\": 1584537016960,\n    \"mag\": 4.01,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.2 - 1km NNW of Magna, Utah\",\n    \"time\": 1584537059440,\n    \"mag\": 4.17,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 5km NNE of Magna, Utah\",\n    \"time\": 1584537072120,\n    \"mag\": 3.74,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 7km NNE of Magna, Utah\",\n    \"time\": 1584537261540,\n    \"mag\": 3.69,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 2km NNE of Magna, Utah\",\n    \"time\": 1584537311480,\n    \"mag\": 3.67,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 6km NE of Magna, Utah\",\n    \"time\": 1584537722060,\n    \"mag\": 3.67,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 4km N of Magna, Utah\",\n    \"time\": 1584537799860,\n    \"mag\": 3.66,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 6km NE of Magna, Utah\",\n    \"time\": 1584538349850,\n    \"mag\": 3.86,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.5 - 3km NNE of Magna, Utah\",\n    \"time\": 1584538598070,\n    \"mag\": 3.5,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.6 - 7km NNE of Magna, Utah\",\n    \"time\": 1584540132830,\n    \"mag\": 4.59,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.6 - 5km NNE of Magna, Utah\",\n    \"time\": 1584543461430,\n    \"mag\": 3.56,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.6 - 5km NE of Magna, Utah\",\n    \"time\": 1584558743610,\n    \"mag\": 4.57,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 8km NNE of Magna, Utah\",\n    \"time\": 1584926235310,\n    \"mag\": 3.94,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  }\n]\n    }\n\t]\n}\n\nexport default defaultState\n","import { combineReducers } from 'redux'\nimport {\n  ADD_PANEL,\n  DELETE_PANEL,\n  UPDATE_PANEL,\n\tCURRENT_PANEL,\n  UPDATE_PANEL_SETTINGS,\n  UPDATE_PANEL_FEATURES,\n  START_FETCHING,\n  STOP_FETCHING\n} from './actions'\n\nconst currentPanel = (state=0, action) => {\n\tswitch (action.type) {\n    case DELETE_PANEL:\n      return action.index > 1 ? action.index - 1 : 0\n\t\tcase CURRENT_PANEL:\n\t\t\treturn action.index\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst data = (state=[], action) => {\n  const newState = [...state]\n\n\tswitch (action.type) {\n\t\tcase ADD_PANEL:\n\t\t\treturn [...state, action.payload]\n    case DELETE_PANEL:\n      return newState.filter(\n        (panel, index) => index !== action.index\n      )\n\t\tcase UPDATE_PANEL:\n\t\t\tnewState[action.index] = action.payload\n\t\t\treturn newState\n    case UPDATE_PANEL_SETTINGS:\n      newState[action.index].settings = action.payload\n      return newState\n    case UPDATE_PANEL_FEATURES:\n      newState[action.index].features = action.payload\n      return newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst fetching = (state=false, action) => {\n\tswitch (action.type) {\n\t\tcase START_FETCHING:\n\t\t\treturn true\n\t\tcase STOP_FETCHING:\n\t\t\treturn false\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst rootReducer = combineReducers({\n  currentPanel,\n  data,\n  fetching\n})\n\nexport default rootReducer\n","import React from 'react';\nimport NavBar from './Components/NavBar';\nimport Display from './Components/Display';\nimport Settings from './Components/Settings';\nimport defaultState from './defaultState'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers'\nimport './App.css';\n\nconst getLocalState = () => {\n  const savedState = localStorage.getItem('quaking-earth-state')\n  const state = savedState ? JSON.parse(savedState) : defaultState\n  return state\n};\n\nconst store = createStore(rootReducer, getLocalState(), applyMiddleware(thunk))\n\nconst saveStateLocally = () => {\n  const state = JSON.stringify(store.getState());\n  localStorage.setItem('quaking-earth-state', state);\n};\nconst dropStateLocally = () => {\n  localStorage.removeItem('quaking-earth-state');\n};\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div style={{ display: 'flex', flexDirection: 'column', height: '100vh' }}>\n        <NavBar />\n        <div style={{ display: 'flex', flexDirection: 'row', flex: 1 }}>\n          <Display />\n          <Settings />\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'row' }}>\n          <button onClick={saveStateLocally}>\n            Save Current State\n          </button>\n          <button onClick={dropStateLocally}>\n            Default State\n          </button>\n        </div>\n      </div>\n      <div className=\"tooltip\"></div>\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}