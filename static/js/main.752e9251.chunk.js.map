{"version":3,"sources":["Components/NavBar.js","actions.js","Components/Display.js","Components/Settings.js","defaultState.js","reducers.js","App.js","serviceWorker.js","index.js"],"names":["a11yProps","index","id","connect","state","data","length","currentTab","currentIndex","tabs","map","d","settings","name","dispatch","props","onAddTab","payload","type","features","addView","onDisplayTab","currentView","AppBar","position","Tabs","value","aria-label","tab","key","Tab","label","onClick","style","background","Display","visualize","console","log","tooltip","d3","append","attr","rainbow","domain","svg","hasChildren","select","remove","selectAll","enter","height","i","n","radius","Math","round","mag","on","pageX","pageY","html","Date","time","toUTCString","title","this","className","React","Component","useStyles","makeStyles","theme","root","margin","spacing","padding","field","onUpdateSettings","updateViewSettings","onUpdateData","location","startTime","endTime","magMin","magMax","fetch","then","json","quakes","filter","quake","q","properties","isLocation","place","includes","isAfterTime","parse","isBeforeTime","isGreaterMag","isLesserMag","coordinates","reverse","updateViewFeatures","fetchData","handleChange","e","newSettings","target","classes","settingKeys","Object","keys","Paper","onSubmit","preventDefault","values","slice","reduce","result","setting","TextField","onChange","Button","variant","startIcon","defaultState","fetching","rootReducer","combineReducers","action","newState","store","createStore","savedState","localStorage","getItem","JSON","getLocalState","applyMiddleware","thunk","saveStateLocally","stringify","getState","setItem","dropStateLocally","removeItem","App","Grid","container","item","xs","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"8UAUA,SAASA,EAAUC,GACjB,MAAO,CACLC,GAAG,cAAD,OAAgBD,GAClB,gBAAgB,mBAAhB,OAAoCA,IAIxC,IAoCeE,eAnBS,SAAAC,GACtB,OAAKA,EAAMC,KAAKC,OACV,CACJC,WAAYH,EAAMI,aAClBC,KAAML,EAAMC,KAAKK,KACf,SAAAC,GAAC,OAAIA,EAAEC,SAASC,SAJW,MASN,SAAEC,EAAUC,GAAZ,MAAwB,CACjDC,SAAU,kBAAMF,ECXX,WAAgC,IAAfG,EAAc,uDAAJ,GACjC,MAAO,CACNC,KApCsB,WAqCtBD,QAAS,CACLJ,KAAMI,EAAQJ,KAAOI,EAAQJ,KAAO,UACpCD,SAAUK,EAAQL,SAAWK,EAAQL,SAAW,CAC/C,KAAQ,GACP,SAAY,GACZ,UAAa,GACb,QAAW,GACX,OAAU,GACV,OAAU,IAEZO,SAAUF,EAAQE,SAAWF,EAAQE,SAAW,KDDlDC,KAEFC,aAAc,SAAApB,GAAK,OAAIa,ECIlB,SAAqBb,GAC3B,MAAO,CACNiB,KApD0B,eAqD1BjB,MAAOA,GDNLqB,CAAYrB,QAIDE,EApCA,SAAC,GAAgD,IAA/CI,EAA8C,EAA9CA,WAAYE,EAAkC,EAAlCA,KAAMY,EAA4B,EAA5BA,aAAcL,EAAc,EAAdA,SAChD,OACC,kBAACO,EAAA,EAAD,CAAQC,SAAS,UACb,kBAACC,EAAA,EAAD,CAAMC,MAAOnB,EAAYoB,aAAW,uBACpClB,GAAQA,EAAKC,KAAI,SAACkB,EAAKC,GAAN,OACb,kBAACC,EAAA,EAAD,eAAKD,IAAKA,EAAKE,MAAOH,EAAKI,QAAS,kBAAIX,EAAaQ,KAAU7B,EAAU4B,QAE3E,kBAACE,EAAA,EAAD,eACEG,MAAO,CAACC,WAAY,WACpBH,MAAM,KAAQ/B,EAAU,WAF1B,CAGEgC,QAAShB,U,wCEtBbmB,G,mNAUJC,UAAY,WAEZ,IAAM/B,EAAO,EAAKU,MAAMI,SAExB,GAAId,EAAM,CAETgC,QAAQC,IAAI,WAAYjC,GAExB,IAAMkC,EAAUC,IAAU,QAAQC,OAAO,OAAOC,KAAK,QAAQ,WAKvDC,EAAUH,IAAmBA,KAAuBI,OAAO,CAAC,EAAE,IAE9DC,EAAML,IAAU,OAEhBM,EAAcN,IAAU,OAAOO,OAAO,KAExCD,GACHA,EAAYE,SAGGH,EAAIJ,OAAO,KAEnBQ,UAAU,iBAChB5C,KAAKA,GACL6C,QAAQT,OAAO,UACfC,KAAK,QAAS,UACdA,KAAK,KAAM,GACXA,KAAK,KAAMS,KACXT,KAAK,KAAK,SAAC/B,EAAGyC,EAAGC,GACjB,IAAMC,EArBK,IAqBK,EAAIF,GAIpB,OAHIA,IAAMC,EAAE/C,OAAS,GACpBuC,EAAIH,KAAK,QAASY,EAAS,IAErBA,KAEPZ,KAAK,OAAQ,QACbA,KAAK,UAAU,SAAC/B,GAAD,OAAOgC,EAAQY,KAAKC,MAAM7C,EAAE8C,SAC3Cf,KAAK,eAAgB,IACrBgB,GAAG,aAAa,SAAC/C,EAAGyC,EAAGC,GACvBd,EAAQN,MAAM,UAAU,KACtBA,MAAM,OAAOO,IAASmB,MAAQ,MAC9B1B,MAAM,MAAMO,IAASoB,MAAQ,MAC7BC,KAHF,UAGU,IAAIC,KAAKnD,EAAEoD,MAAMC,cAH3B,gBAGgDrD,EAAEsD,WAElDP,GAAG,YAAY,WACfnB,EAAQN,MAAM,UAAU,U,kEAvDvBiC,KAAK9B,c,2CAIL8B,KAAK9B,c,+BA0DT,OAAO,yBAAK+B,UAAU,iBAAgB,yBAAKA,UAAU,a,GAjEjCC,IAAMC,YA2EblE,eANS,SAAAC,GACvB,MAAO,CACNe,SAAUf,EAAMC,KAAKC,OAASF,EAAMC,KAAKD,EAAMI,cAAcW,SAAW,MAI3DhB,CAAyBgC,G,oDCpElCmC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACNC,OAAQF,EAAMG,QAAQ,GACpBC,QAASJ,EAAMG,QAAQ,IAE1BE,MAAO,CACN,gBAAiBL,EAAMG,QAAQ,GAC7B,QAAW,aAgFAxE,eAvBS,SAAAC,GACtB,IAAKA,EAAMC,KAAKC,OAAQ,MAAO,GAC/B,IACMM,EADcR,EAAMC,KAAKD,EAAMI,cACRI,SAC9B,MAAO,CACJX,MAAOG,EAAMI,aACfI,SAAUA,MAIe,SAAAE,GAAQ,MAAK,CACtCgE,iBAAkB,SAAC7E,EAAOW,GACxB,OAAOE,EFtEJ,SAA4Bb,EAAOgB,GACzC,MAAO,CACNC,KAhBkC,uBAiBlCjB,MAAOA,EACPgB,QAASA,GEmEL8D,CAAmB9E,EAAOW,KAG9BoE,aAAc,SAAC/E,EAAOW,GACpB,OAAOE,EF/Bc,SACvBb,EADuB,GAUpB,EAPDY,KAOE,IANFoE,EAMC,EANDA,SACAC,EAKC,EALDA,UACAC,EAIC,EAJDA,QACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,OAGF,OAAO,SAAAvE,GACLA,EAfgC,CAAEI,KApDR,mBAqE1BoE,MAAM,+EACLC,MAAM,SAAAlF,GAAI,OAAIA,EAAKmF,UACnBD,MAAM,SAAAC,GACL,IAAMC,EAASD,EAAKrE,SACnBuE,QACC,SAAAC,GACE,IAAMC,EAAID,EAAME,WAEVC,GAAab,GAAWW,EAAEG,MAAMC,SAASf,GACzCgB,GAAcf,GAAYU,EAAE7B,MAAQD,KAAKoC,MAAMhB,GAC/CiB,GAAehB,GAAUS,EAAE7B,MAAQD,KAAKoC,MAAMf,GAC9CiB,GAAehB,GAASQ,EAAEnC,KAAO2B,EACjCiB,GAAchB,GAASO,EAAEnC,KAAO4B,EAEtC,OAAOS,GAAcG,GAAeE,GAAgBC,GAAgBC,KAGvE3F,KACC,SAAAiF,GAAK,MAAK,CACR,GAAMA,EAAME,WAAW3F,GACvB,MAASyF,EAAME,WAAW5B,MAC1B,KAAQ0B,EAAME,WAAW9B,KACzB,IAAO4B,EAAME,WAAWpC,IACxB,YAAekC,EAAME,WAAWS,gBAGnCC,UAEDzF,EA5C6B,CAAEI,KApDR,kBAkGvBJ,EAhFC,SAA4Bb,EAAOgB,GACzC,MAAO,CACNC,KAvBkC,uBAwBlCjB,MAAOA,EACPgB,QAASA,GA6EHuF,CAAoBvG,EAAOwF,QEb7BgB,CAAUxG,EAAOW,QAKRT,EA5EE,SAAC,GAAuD,IAAtD2E,EAAqD,EAArDA,iBAAkBE,EAAmC,EAAnCA,aAAc/E,EAAqB,EAArBA,MAAOW,EAAc,EAAdA,SAalD8F,EAAe,SAAAC,GACnB,IAAMC,EAAW,eAAOhG,GACxBgG,EAAYD,EAAEE,OAAO3G,IAAMyG,EAAEE,OAAOnF,MACpCoD,EAAiB7E,EAAO2G,IAGrBE,EAAUxC,IAETyC,EAAcnG,EAAWoG,OAAOC,KAAKrG,GAAY,KAExD,OACC,kBAACsG,EAAA,EAAD,CAAO/C,UAAW2C,EAAQrC,MACzB,0BAAM0C,SAvBc,SAAAR,GACnBA,EAAES,iBACF,IAAMxG,EAAWoG,OAAOK,OAAOV,EAAEE,QAAQS,MAAM,EAAE,GAAGC,QAClD,SAACC,EAAQC,GAEP,OADAD,EAAOC,EAAQvH,IAAMuH,EAAQ/F,MACtB8F,IACN,IAELxC,EAAa/E,EAAMW,KAgBnB,mDAEMmG,GAAeA,EAAYrG,KACzB,SAAAmB,GAAG,OAAI,kBAAC6F,EAAA,EAAD,CACL7F,IAAKA,EACV3B,GAAI2B,EACJsC,UAAW2C,EAAQjC,MACnB9C,MAAOF,EACPH,MAAOd,EAASiB,GACX8F,SAAUjB,OAKpB,kBAACkB,EAAA,EAAD,CACCC,QAAQ,YACR3G,KAAK,SACL4G,UAAW,kBAAC,IAAD,OAHZ,UAOI,2DCkHOC,EAxLM,CACpBvH,aAAc,EACdwH,UAAU,EACV3H,KAAM,CACL,CACIO,SAAU,CACf,KAAQ,SACP,SAAY,cACZ,UAAa,aACb,QAAW,aACX,OAAU,MACV,OAAU,OAENO,SAAU,CACd,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,IACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,gCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,+BACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,gCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,IACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,gCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,QAGJ,CACE,GAAM,aACN,MAAS,iCACT,KAAQ,cACR,IAAO,KACP,YAAe,EACZ,QACD,OACA,Y,wBCvHS8G,EANKC,YAAgB,CAClC1H,aAzCmB,WAAsB,IAArBJ,EAAoB,uDAAd,EAAG+H,EAAW,uCACzC,OAAQA,EAAOjH,MACd,IJX0B,eIYzB,OAAOiH,EAAOlI,MACf,QACC,OAAOG,IAqCRC,KAjCW,WAAuB,IAAtBD,EAAqB,uDAAf,GAAI+H,EAAW,uCAC3BC,EAAQ,YAAOhI,GAEtB,OAAQ+H,EAAOjH,MACd,IJxBsB,WIyBrB,MAAM,GAAN,mBAAWd,GAAX,CAAkB+H,EAAOlH,UAC1B,IJzByB,cI2BxB,OADAmH,EAASD,EAAOlI,OAASkI,EAAOlH,QACzBmH,EACN,IJzBgC,uBI2B9B,OADAA,EAASD,EAAOlI,OAAOW,SAAWuH,EAAOlH,QAClCmH,EACT,IJ3BgC,uBI6B9B,OADAA,EAASD,EAAOlI,OAAOkB,SAAWgH,EAAOlH,QAClCmH,EACX,QACC,OAAOhI,IAkBR4H,SAde,WAA0B,IAAzB5H,EAAwB,wDAAX+H,EAAW,uCACzC,OAAQA,EAAOjH,MACd,IJnC4B,iBIoC3B,OAAO,EACR,IJpC2B,gBIqC1B,OAAO,EACR,QACC,OAAOd,MC5BJiI,G,OAAQC,YAAYL,EANJ,WACpB,IAAMM,EAAaC,aAAaC,QAAQ,uBAExC,OADcF,EAAaG,KAAKxC,MAAMqC,GAAcR,EAIfY,GAAiBC,YAAgBC,OAElEC,EAAmB,WACvB,IAAM1I,EAAQsI,KAAKK,UAAUV,EAAMW,YACnCR,aAAaS,QAAQ,sBAAuB7I,IAExC8I,EAAmB,WACvBV,aAAaW,WAAW,wBA2BXC,MAxBf,WACE,OACE,kBAAC,IAAD,CAAUf,MAAOA,GACf,kBAACgB,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAC,EAAD,OAEF,kBAACH,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC,EAAD,OAEF,kBAACH,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC,EAAD,QAGJ,kBAAC5B,EAAA,EAAD,CAAQ5F,QAAS8G,GAAjB,sBAGA,kBAAClB,EAAA,EAAD,CAAQ5F,QAASkH,GAAjB,mBClCcO,QACW,cAA7BC,OAAOzE,SAAS0E,UAEe,UAA7BD,OAAOzE,SAAS0E,UAEhBD,OAAOzE,SAAS0E,SAASC,MACvB,2DCXNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB7E,MAAK,SAAA8E,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLnI,QAAQmI,MAAMA,EAAMC,c","file":"static/js/main.752e9251.chunk.js","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport {\n  addView,\n  currentView\n} from '../actions'\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst NavBar = ({currentTab, tabs, onDisplayTab, onAddTab}) => {\n\treturn (\n\t\t<AppBar position=\"static\">\n      <Tabs value={currentTab} aria-label=\"simple tabs example\">\n  \t\t\t{tabs && tabs.map((tab, key) =>\n          <Tab key={key} label={tab} onClick={()=>onDisplayTab(key)} {...a11yProps(tab)} />\n  \t\t\t)}\n        <Tab\n          style={{background: '#40a9ff'}}\n          label='+' {...a11yProps('add-tab')}\n          onClick={onAddTab}\n        />\n      </Tabs>\n\t\t</AppBar>\n\t)\n}\n\nconst mapStateToProps = state => {\n  if (!state.data.length) return {}\n\treturn {\n    currentTab: state.currentIndex,\n    tabs: state.data.map(\n      d => d.settings.name\n    )\n\t};\n};\n\nconst mapDispatchToProps = ( dispatch, props ) => ({\n  onAddTab: () => dispatch(\n    addView()\n  ),\n  onDisplayTab: index => dispatch(\n    currentView(index)\n  )\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar)\n","export const ADD_VIEW = 'ADD_VIEW'\nexport const UPDATE_VIEW = 'UPDATE_VIEW'\nexport const CURRENT_VIEW = 'CURRENT_VIEW'\n\nexport const UPDATE_VIEW_SETTINGS = 'UPDATE_VIEW_SETTINGS'\nexport const UPDATE_VIEW_FEATURES = 'UPDATE_VIEW_FEATURES'\n\nexport const START_FETCHING = 'START_FETCHING'\nexport const STOP_FETCHING = 'STOP_FETCHING'\n\nexport function updateView(index, payload) {\n\treturn {\n\t\ttype: UPDATE_VIEW,\n\t\tindex: index,\n\t\tpayload: payload\n\t}\n}\n\nexport function updateViewSettings(index, payload) {\n\treturn {\n\t\ttype: UPDATE_VIEW_SETTINGS,\n\t\tindex: index,\n\t\tpayload: payload\n\t}\n}\n\nexport function updateViewFeatures(index, payload) {\n\treturn {\n\t\ttype: UPDATE_VIEW_FEATURES,\n\t\tindex: index,\n\t\tpayload: payload\n\t}\n}\n\nexport function addView(payload = {}) {\n\treturn {\n\t\ttype: ADD_VIEW,\n\t\tpayload: {\n      name: payload.name ? payload.name : \"Default\",\n      settings: payload.settings ? payload.settings : {\n      \t\"name\": \"\",\n        \"location\": \"\",\n        \"startTime\": \"\",\n        \"endTime\": \"\",\n        \"magMin\": \"\",\n        \"magMax\": \"\"\n      },\n      features: payload.features ? payload.features : {}\n    }\n\t}\n}\n\nexport function currentView(index) {\n\treturn {\n\t\ttype: CURRENT_VIEW,\n\t\tindex: index\n\t}\n}\n\nexport const startFetching = () => ({ type: START_FETCHING })\nexport const stopFetching = () => ({ type: STOP_FETCHING })\n\nexport const fetchData = (\n  index,\n  {\n    name,\n    location,\n    startTime,\n    endTime,\n    magMin,\n    magMax\n  }\n) => {\n  return dispatch => {\n    dispatch(startFetching());\n\n    fetch('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson')\n    .then( data => data.json() )\n    .then( json => {\n      const quakes = json.features\n      .filter(\n        quake => {\n          const q = quake.properties\n\n          const isLocation = location ? q.place.includes(location) : true\n          const isAfterTime = startTime ? q.time >= Date.parse(startTime) : true\n          const isBeforeTime = endTime ? q.time <= Date.parse(endTime) : true\n          const isGreaterMag = magMin ? q.mag >= magMin : true\n          const isLesserMag = magMax ? q.mag <= magMax : true\n\n          return isLocation && isAfterTime && isBeforeTime && isGreaterMag && isLesserMag\n        }\n      )\n      .map(\n        quake => ({\n          \"id\": quake.properties.id,\n          \"title\": quake.properties.title,\n          \"time\": quake.properties.time,\n          \"mag\": quake.properties.mag,\n          \"coordinates\": quake.properties.coordinates\n        })\n      )\n      .reverse()\n\n      dispatch(stopFetching());\n\n      dispatch(\n        updateViewFeatures( index, quakes )\n      )\n\n    })\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as d3 from 'd3';\nimport './Display.css';\n\nclass Display extends React.Component {\n\n\t componentDidMount() {\n      this.visualize()\n   }\n\n\t componentDidUpdate() {\n      this.visualize()\n   }\n\n\t visualize = () => {\n\n\t\tconst data = this.props.features\n\n\t\tif (data) {\n\n\t\t\tconsole.log(\"Display:\", data);\n\n\t\t\tconst tooltip = d3.select(\"body\").append(\"div\").attr(\"class\",\"tooltip\")\n\n\t\t\tconst height = 490\n\t\t\tconst zoom = 20\n\n\t\t\tconst rainbow = d3.scaleSequential(d3.interpolateInferno).domain([0,6])\n\n\t\t\tconst svg = d3.select('svg')\n\n\t\t\tconst hasChildren = d3.select('svg').select('g')\n\n\t\t\tif (hasChildren) {\n\t\t\t\thasChildren.remove()\n\t\t\t}\n\n\t\t\tconst ripples = svg.append(\"g\")\n\n\t\t\tripples.selectAll('circle.ripple')\n\t\t\t\t.data(data)\n\t\t\t\t.enter().append('circle')\n\t\t\t\t.attr('class', 'ripple')\n\t\t\t\t.attr('cx', 0)\n\t\t\t\t.attr('cy', height / 2)\n\t\t\t\t.attr('r', (d, i, n) => {\n\t\t\t\t\tconst radius = (1 + i) * zoom\n\t\t\t\t\tif (i === n.length - 1) {\n\t\t\t\t\t\tsvg.attr(\"width\", radius + 10)\n\t\t\t\t\t}\n\t\t\t\t\treturn radius\n\t\t\t\t})\n\t\t\t\t.attr('fill', 'none')\n\t\t\t\t.attr('stroke', (d) => rainbow(Math.round(d.mag)))\n\t\t\t\t.attr('stroke-width', 10)\n\t\t\t\t.on('mousemove', (d, i, n) => {\n\t\t\t\t\ttooltip.style(\"opacity\",\"1\")\n\t\t\t\t\t\t.style(\"left\",d3.event.pageX + 'px')\n\t\t\t\t\t\t.style(\"top\",d3.event.pageY + 'px')\n\t\t\t\t\t\t.html(`${new Date(d.time).toUTCString()}<br/>${d.title}`)\n\t\t\t\t})\n\t\t\t\t.on(\"mouseout\", () => {\n\t\t\t\t\ttooltip.style(\"opacity\",\"0\")\n\t\t\t\t})\n\t\t}\n\n\t }\n\n\trender() {\n\t\treturn <div className=\"svg-container\"><svg className=\"svg\" /></div>\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tfeatures: state.data.length ? state.data[state.currentIndex].features : {},\n\t};\n};\n\nexport default connect(mapStateToProps)(Display)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  updateViewSettings,\n  fetchData\n} from '../actions'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n\t\tmargin: theme.spacing(2),\n    padding: theme.spacing(2),\n  },\n\tfield: {\n\t\t'margin-bottom': theme.spacing(2),\n    'display': 'block'\n\t}\n}));\n\nconst Settings = ({onUpdateSettings, onUpdateData, index, settings}) => {\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    const settings = Object.values(e.target).slice(0,6).reduce(\n      (result, setting) => {\n        result[setting.id] = setting.value\n        return result\n      }, {}\n    )\n    onUpdateData(index,settings)\n  }\n\n  const handleChange = e => {\n    const newSettings = {...settings}\n    newSettings[e.target.id] = e.target.value\n    onUpdateSettings(index, newSettings)\n  }\n\n\tconst classes = useStyles();\n\n  const settingKeys = settings ? Object.keys(settings) : null\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<h2>Earthquake Settings</h2>\n        {\n          settingKeys && settingKeys.map(\n            key => <TextField\n              key={key}\n    \t\t\t\t\tid={key}\n    \t\t\t\t\tclassName={classes.field}\n    \t\t\t\t\tlabel={key}\n    \t\t\t\t\tvalue={settings[key]}\n              onChange={handleChange}\n    \t\t\t\t/>\n          )\n        }\n\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t>\n\t\t\t\tUpdate\n\t\t\t\t</Button>\n        <p>Up to one month of data</p>\n\t\t\t</form>\n\t\t</Paper>\n\t)\n}\n\nconst mapStateToProps = state => {\n  if (!state.data.length) return {}\n  const currentData = state.data[state.currentIndex]\n  const settings = currentData.settings\n\treturn {\n    index: state.currentIndex,\n\t\tsettings: settings\n\t};\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateSettings: (index, settings) => {\n    return dispatch(\n      updateViewSettings(index, settings)\n    )\n  },\n  onUpdateData: (index, settings) => {\n    return dispatch(\n      fetchData(index, settings)\n    )\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings)\n","const defaultState = {\n\tcurrentIndex: 0,\n\tfetching: false,\n\tdata: [\n\t\t{\n      settings: {\n\t\"name\": \"quake1\",\n  \"location\": \"Magna, Utah\",\n  \"startTime\": \"2020-03-18\",\n  \"endTime\": \"2020-03-24\",\n  \"magMin\": \"3.5\",\n  \"magMax\": \"5.7\"\n},\n      features: [\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 5.7 - 6km NNE of Magna, Utah\",\n    \"time\": 1584536971530,\n    \"mag\": 5.7,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 4km NNE of Magna, Utah\",\n    \"time\": 1584537008210,\n    \"mag\": 3.94,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.0 - 4km NNE of Magna, Utah\",\n    \"time\": 1584537016960,\n    \"mag\": 4.01,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.2 - 1km NNW of Magna, Utah\",\n    \"time\": 1584537059440,\n    \"mag\": 4.17,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 5km NNE of Magna, Utah\",\n    \"time\": 1584537072120,\n    \"mag\": 3.74,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 7km NNE of Magna, Utah\",\n    \"time\": 1584537261540,\n    \"mag\": 3.69,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 2km NNE of Magna, Utah\",\n    \"time\": 1584537311480,\n    \"mag\": 3.67,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 6km NE of Magna, Utah\",\n    \"time\": 1584537722060,\n    \"mag\": 3.67,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.7 - 4km N of Magna, Utah\",\n    \"time\": 1584537799860,\n    \"mag\": 3.66,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 6km NE of Magna, Utah\",\n    \"time\": 1584538349850,\n    \"mag\": 3.86,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.5 - 3km NNE of Magna, Utah\",\n    \"time\": 1584538598070,\n    \"mag\": 3.5,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.6 - 7km NNE of Magna, Utah\",\n    \"time\": 1584540132830,\n    \"mag\": 4.59,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.6 - 5km NNE of Magna, Utah\",\n    \"time\": 1584543461430,\n    \"mag\": 3.56,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 4.6 - 5km NE of Magna, Utah\",\n    \"time\": 1584558743610,\n    \"mag\": 4.57,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  },\n  {\n    \"id\": \"uu60364832\",\n    \"title\": \"M 3.9 - 8km NNE of Magna, Utah\",\n    \"time\": 1584926235310,\n    \"mag\": 3.94,\n    \"coordinates\": [\n      -112.059,\n      40.751,\n      10.65\n    ]\n  }\n]\n    }\n\t]\n}\n\nexport default defaultState\n","import { combineReducers } from 'redux'\nimport {\n  ADD_VIEW,\n  UPDATE_VIEW,\n\tCURRENT_VIEW,\n  UPDATE_VIEW_SETTINGS,\n  UPDATE_VIEW_FEATURES,\n  START_FETCHING,\n  STOP_FETCHING\n} from './actions'\n\nconst currentIndex = (state=0, action) => {\n\tswitch (action.type) {\n\t\tcase CURRENT_VIEW:\n\t\t\treturn action.index\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst data = (state=[], action) => {\n  const newState = [...state]\n\n\tswitch (action.type) {\n\t\tcase ADD_VIEW:\n\t\t\treturn [...state, action.payload]\n\t\tcase UPDATE_VIEW:\n\t\t\tnewState[action.index] = action.payload\n\t\t\treturn newState\n    case UPDATE_VIEW_SETTINGS:\n      newState[action.index].settings = action.payload\n      return newState\n    case UPDATE_VIEW_FEATURES:\n      newState[action.index].features = action.payload\n      return newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst fetching = (state=false, action) => {\n\tswitch (action.type) {\n\t\tcase START_FETCHING:\n\t\t\treturn true\n\t\tcase STOP_FETCHING:\n\t\t\treturn false\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst rootReducer = combineReducers({\n  currentIndex,\n  data,\n  fetching\n})\n\nexport default rootReducer\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport NavBar from './Components/NavBar';\nimport Display from './Components/Display';\nimport Settings from './Components/Settings';\nimport defaultState from './defaultState'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers'\nimport './App.css';\n\nconst getLocalState = () => {\n  const savedState = localStorage.getItem('quaking-earth-state')\n  const state = savedState ? JSON.parse(savedState) : defaultState\n  return state\n};\n\nconst store = createStore(rootReducer, getLocalState(), applyMiddleware(thunk))\n\nconst saveStateLocally = () => {\n  const state = JSON.stringify(store.getState());\n  localStorage.setItem('quaking-earth-state', state);\n};\nconst dropStateLocally = () => {\n  localStorage.removeItem('quaking-earth-state');\n};\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Grid container>\n        <Grid item xs={12}>\n          <NavBar />\n        </Grid>\n        <Grid item xs={9}>\n          <Display />\n        </Grid>\n        <Grid item xs={3}>\n          <Settings />\n        </Grid>\n      </Grid>\n      <Button onClick={saveStateLocally}>\n        Save Current State\n      </Button>\n      <Button onClick={dropStateLocally}>\n        Default State\n      </Button>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'typeface-roboto';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}